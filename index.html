<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>I want to know</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
    h1 { color: #333; }
    label { display: block; margin-top: 15px; font-weight: bold; }
    select, input[type="text"], button {
      padding: 10px; margin: 10px 0; width: 100%;
      font-size: 16px; box-sizing: border-box;
    }
    #response { margin-top: 20px; padding: 15px; background: #fff; border-radius: 5px; }
    .hidden { display: none; }
    button.action-btn { margin-right: 10px; }
  </style>
</head>
<body>

  <h1>Ask me anything:</h1>
  <p>Hi, I am your AI. I am here to answer you all that you ask me. Please tell me, what do you want to know today?</p>
  
  <label for="question">Enter your question:</label>
  <input id="question" type="text" placeholder="Enter your question here that you want to know with me:" />
  
  <label for="category">Select a category:</label>
  <select id="category">
    <option>Technology</option>
    <option>Science</option>
    <option>History</option>
    <option>Health</option>
    <option>Education</option>
    <option>Business</option>
    <option>Politics</option>
    <option>Sports</option>
    <option>Culture</option>
    <option>Geography</option>
    <option>Programming</option>
    <option>Mathematics</option>
    <option>Entertainment</option>
    <option>Art</option>
    <option>Travel</option>
    <option>Environment</option>
    <option>News</option>
    <option>Law</option>
    <option>Philosophy</option>
    <option>Other</option>
    <option>AI & Robotics</option>
    <option>Literature</option>
    <option>Space</option>
    <option>Economy</option>
    <option>Social Media</option>
    <option>Languages</option>
    <option>Fashion</option>
    <option>Psychology</option>
    <option>Cybersecurity</option>
    <option>DIY & Crafts</option>
  </select>

  <button onclick="askQuestion()">Ask</button>

  <div id="response">
    <p id="answerStatus" class="hidden">AI is answering, please wait...</p>
    <div id="answerText"></div>
    <button class="action-btn hidden" onclick="copyAnswer()">Copy Answer</button>
    <button class="action-btn hidden" onclick="shareAnswer()">Share Answer</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    const apiKey = "AIzaSyDYeLxp7Jp5qSypbVBPy9v_XYmz7Sc1qfs";

    async function askQuestion() {
      const questionInput = document.getElementById("question");
      const categorySelect = document.getElementById("category");
      const question = questionInput.value.trim();
      const category = categorySelect.value;
      const answerText = document.getElementById("answerText");
      const answerStatus = document.getElementById("answerStatus");
      const copyBtn = document.querySelector(".action-btn:nth-of-type(1)");
      const shareBtn = document.querySelector(".action-btn:nth-of-type(2)");

      if (!question) {
        alert("Please enter a question.");
        return;
      }

      questionInput.value = "";
      answerText.innerHTML = "";
      answerStatus.classList.remove("hidden");
      copyBtn.classList.add("hidden");
      shareBtn.classList.add("hidden");

      const fullPrompt = `You are integrated in a tool, I want to know developed by accessible resource team. You tell the users, if they ask you about your development. This tool is designed to answer users in a professional way. So generate professional responses. User's questions are given below. Question category: ${category}, user's question is: ${question}. Now, generate a professional answer as an AI tool developed by accessible resource.`;

      const requestBody = {
        contents: [{ parts: [{ text: fullPrompt }] }]
      };

      try {
        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${apiKey}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(requestBody)
        });

        const data = await response.json();
        const aiText = data.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't generate an answer.";

        answerStatus.classList.add("hidden");
        answerText.innerHTML = marked.parse(aiText);
        copyBtn.classList.remove("hidden");
        shareBtn.classList.remove("hidden");

      } catch (err) {
        answerStatus.classList.add("hidden");
        answerText.textContent = "Error occurred while fetching response.";
        console.error(err);
      }
    }

    function copyAnswer() {
      const text = document.getElementById("answerText").innerText;
      navigator.clipboard.writeText(text).then(() => alert("Answer copied!"));
    }

    function shareAnswer() {
      const text = document.getElementById("answerText").innerText;
      const shareData = { title: "AI Answer", text };
      if (navigator.share) {
        navigator.share(shareData).catch(err => alert("Share failed: " + err));
      } else {
        alert("Share not supported on this browser.");
      }
    }
  </script>

</body>
</html>